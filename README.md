原理（在同一时间，compose最外层应该只有一个代表页面的compose函数。）
核心

在Mrouter中注册所有的的页面，字符串作为Route。
在使用route进行导航的时候，将对应的compose带进后退栈。
在compose最外层，监听这个后退栈。

需要做到的是:
局部更新（动态布局）
就不应该只有一个后退栈，除了一个主后退栈之外，还应该有一个局部后退栈。

注册：
注册的时候需要关注页面和路由的关系以及动态布局。（路由如果重复则覆盖）

导航：
在导航的时候需要注意该页面用到什么地方，比如以新的window/dialog进行展示。
window都具备自己的后退栈。和之前的window的后退栈互不影响。
如果是dialog，则不需要具备独立的后退栈。也是和当前的页面使用同一个后退栈。只是在展示的时候是和当前的页面同时展示。
并且由于dialog的特殊性（ModalBottomSheet和dialog）。
以及局部栈（所有页面都具备动态布局），局部栈并不是手动设置的，而是由界面变化而决定的。当界面变化超过最小边界时，就算你不进行导航，也可以变动界面。

导航时需要关注：
以什么形式打开页面（window，dialog，page，注意：对于移动端来说没有window，那么这个只将会只对桌面端有效，对于移动端来说window和page是一样的。）

借助局部栈的思路，将整个后退栈分为三层。最外层为window层。里面层是页面层，最里面层是局部页面层。
window层对于桌面端才有意义，或者在移动端也出现了window的时候就可以补上了。
由于window层的存在，window层的后退栈将直接在App之外。


1,思考动态布局的实现
动态布局不在路由中实现，而是提供一个动态布局的布局界面供使用者注册使用。
由此可衍生出将不同的界面绑定使用不同的布局进行加载，这样就会更加灵活。

2，查看如何更新flow,思考三层后退栈的实现。
3，思考多种打开方式。



想法：
定义一个函数，该函数标榜某个平台，比如移动端，桌面端，android，ios都可以，然后里面的代码就是特定平台才能渲染/使用。




模版页面：
模版布局是实现动态布局的方式，也是实现动态弹框的方式，
需要在模版页面处理回退栈的问题，以及该回退栈和主回退栈的交互问题。

模版页面有个矛盾：
在首次跳转时，只需要跳转到模版页面就可以了，比如说：/template

而当目前在模版页面是，需要跳转下一个页面，那么需要如何做呢？
两种选择：
/template/address
/address
这里的矛盾点在于无法定位到对应的layout上（模版布局可以使用每个layout做定位）。或者说这是动态布局的矛盾。需要多加一个key。但是如果仅仅希望将多个layout整合成一个page。那么是不需要跳转的。也就是说。
由于加了key，那么路由应该变为：
/template/key/address。





1，注册页面地址和模版页面
2，在跳转是通过地址和模版页面创建后退栈点（注意，如果页面是单例，则不需要创建而是重新使用旧的后退栈点，
3，找到需要压入的栈，并入栈
4，在栈发生改变的时候，通知页面更改。（这里还需要结合生命周期）


后退栈：


